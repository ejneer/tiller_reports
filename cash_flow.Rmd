---
output: html_document
---

```{r}
monthly_cash_flow <- reportable_transactions %>%
  mutate(
    `Cash Flow Group` = if_else(Group == "Income", "Income", "Spending")
  ) %>%
  group_by(Month, `Cash Flow Group`) %>%
  summarize(Amount = sum(Amount))

reportable_transactions %>%
  group_by(Month, Group) %>%
  summarize(Amount = sum(Amount)) %>%
  pivot_wider(id_cols = Month, names_from = Group, values_from = Amount) %>%
  mutate_at(vars(-group_cols()), function(x) replace_na(x, 0)) %>%
  ungroup() %>%
  mutate(
    Net = Income + Bills + Discretionary,
    Cumulative = cumsum(Net)
  ) %>%
  arrange(desc(Month)) %>%
  knitr::kable(digits = 2)
```

